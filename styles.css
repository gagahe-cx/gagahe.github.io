:root{
  --bg:#fff;
  --text:#111;
  --muted:#6a6a6a;
  --line:#eee;
}

*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans SC", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
  color:var(--text); background:var(--bg);
}

/* 锚点抵消粘性头部 */
section, .section { scroll-margin-top: 72px; }

/* 焦点可见 */
:focus-visible{ outline:2px solid #3b82f6; outline-offset:2px; border-radius:6px; }

.site-header{
  position:sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 20px; border-bottom:1px solid var(--line); background:#fff;
}
.brand{font-weight:800; text-decoration:none; color:var(--text)}
.site-nav a{margin-left:16px; color:var(--text); text-decoration:none}
.site-nav a:hover{opacity:.7}
.nav-toggle{display:none; background:none; border:0; font-size:20px}

.hero{padding:92px 20px 56px; text-align:center; border-bottom:1px solid var(--line)}
.title{font-size:42px; margin:0 0 10px; letter-spacing:.2px}
.subtitle{color:var(--muted); font-size:18px; margin:0}

.section{padding:56px 20px; max-width:1080px; margin:0 auto}
.section.alt{background:#fafafa; border-top:1px solid var(--line); border-bottom:1px solid var(--line)}
.section-title{font-size:20px; margin:0 0 18px; font-weight:600}

.grid{display:grid; grid-template-columns:repeat(2, 1fr); gap:14px}
.item{position:relative; margin:0; background:#fff; border:1px solid var(--line); overflow:hidden}
.item img{width:100%; height:280px; object-fit:cover; display:block; transform:translateZ(0); transition:transform .3s ease}
.item:hover img{transform:scale(1.015)}
.item figcaption{
  position:absolute; left:0; right:0; bottom:0;
  background:rgba(255,255,255,.85); color:#111; border-top:1px solid var(--line);
  padding:8px 10px; font-size:13px; opacity:0; transition:opacity .2s ease;
}
.item:hover figcaption{opacity:1}

.about{display:grid; grid-template-columns:200px 1fr; gap:18px; align-items:start}
.avatar{width:100%; aspect-ratio:1/1; object-fit:cover; border:1px solid var(--line)}

.contact{list-style:none; padding:0; margin:0}
.contact li{margin:8px 0}

.site-footer{padding:32px 20px; text-align:center; color:var(--muted); border-top:1px solid var(--line)}

/* Masonry：用 column-count；列间距 column-gap，行距用底部外边距 */
.grid.masonry{
  display:block !important;
  grid-template-columns:none !important;
  grid-auto-rows:auto !important;
  gap:0 !important;

  column-count:2;
  column-gap:20px; /* 改成 16px 也可以 */
}
.grid.masonry .item{
  break-inside:avoid;
  -webkit-column-break-inside:avoid;
  page-break-inside:avoid;

  display:block;
  margin:0 0 20px 0; /* 只留底部行距 */
}
.grid.masonry figure{ margin:0; }
.grid.masonry .item img{ width:100% !important; height:auto !important; display:block; }

/* Lightbox */
.lightbox{
  position:fixed; inset:0;
  background:rgba(255,255,255,.98);
  display:none; align-items:center; justify-content:center; gap:16px;

  overflow:auto;                 /* 弹层可滚 */
  overscroll-behavior:contain;   /* 阻止滚到背景 */
}
.lightbox.open{display:flex}

.lb-figure{
  margin:0;
  max-width:min(96vw, 1400px);
  max-height:90vh;
  display:flex; flex-direction:column; align-items:center;
}
#lb-image{max-width:100%; max-height:70vh; border:1px solid var(--line); background:#fff}
#lb-caption{margin-top:10px; color:var(--muted); font-size:14px; text-align:center}

/* 文章列表：在弹层内独立滚动 */
.lb-articles{
  margin:10px 0 0;
  padding:0 0 2px 18px;
  max-height:32vh;
  overflow:auto;
  -webkit-overflow-scrolling:touch;
  text-align:left;
}
.lb-articles li{ margin:6px 0; }
.lb-articles a{
  text-decoration:none;
  border-bottom:1px dashed rgba(0,0,0,.25);
}
.lb-articles a:hover{ opacity:.8; }

/* Lightbox 控制按钮 */
.lb-close, .lb-prev, .lb-next{
  position:fixed; background:#fff; border:1px solid var(--line); color:#111;
  width:36px; height:36px; border-radius:999px; display:flex; align-items:center; justify-content:center;
  cursor:pointer; box-shadow:0 1px 4px rgba(0,0,0,.04);
}
.lb-close{top:16px; right:16px; font-size:20px; line-height:1}
.lb-prev{left:16px; top:50%; transform:translateY(-50%); font-size:26px}
.lb-next{right:16px; top:50%; transform:translateY(-50%); font-size:26px}

/* 响应式 */
@media (max-width: 900px){
  .grid{grid-template-columns:repeat(2, 1fr)}
  .about{grid-template-columns:1fr}
  .grid.masonry{ column-count:2; }
}
@media (max-width: 640px){
  .grid{grid-template-columns:1fr}
  .site-nav{display:none}
  .nav-toggle{display:block}
  .site-nav.open{
    display:flex; position:absolute; right:12px; top:54px; background:#fff; border:1px solid var(--line); border-radius:10px; padding:8px; flex-direction:column;
    z-index:20; box-shadow:0 6px 24px rgba(0,0,0,.08);
  }
  .site-nav.open a{margin:6px 10px}
  .grid.masonry{ column-count:1; }
}

/* 深色模式 */
@media (prefers-color-scheme: dark) {
  :root{
    --bg:#0b0b0b;
    --text:#f3f3f3;
    --muted:#a0a0a0;
    --line:#222;
  }
  .section.alt{ background:#0f0f0f; }
  .site-header, .item, #lb-image, .lb-close, .lb-prev, .lb-next { background:#111; }
  .item figcaption{ background:rgba(16,16,16,.85); color:#eaeaea; border-top:1px solid var(--line); }
  .lb-articles a{ border-bottom-color: rgba(255,255,255,.35); }
}

/* 减少动画 */
@media (prefers-reduced-motion: reduce) {
  html:focus-within { scroll-behavior: auto; }
  .item img, .item:hover img { transition:none; transform:none; }
}
